{% extends "base.html" %}
{% block content %}

    <h3 class="recipedia-text shadow-text center-align">Add a recipe to our database</h3>

    <section class="container add-recipe-container">
        <div class="row">
            <form class="col s12" method="POST" action="{{ url_for('add_recipe')}}">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-pen prefix shadow-text recipedia-text"></i>
                        <input id="recipe_name" name="recipe_name" minlength="3" maxlength="60"
                        type="text" class="validate" required>
                        <label for="recipe_name">Recipe Name</label>
                    </div>
                </div>
                <div class="row">
                    <!-- Wanted to automatically add the session users username to the created by field and not allow it to be changed or tampered with, a solution I found here: https://stackoverflow.com/questions/24597057/make-html-form-data-unchangeable-but-still-able-to-post#24597080 -->
                    <div class="input-field col s12">
                        <i class="fas fa-user prefix shadow-text recipedia-text"></i>
                        <input id="created_by" value="{{ username }}" name="created_by" type="text" readonly required>
                        <label for="created_by">Created By</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s6">
                        <i class="far fa-calendar-alt prefix shadow-text recipedia-text"></i>
                        <input name="date" id="date" type="text" class="datepicker validate" required>
                        <label for="date">Date Created</label>
                    </div>
                    <div class="input-field col s6">
                        <i class="fas fa-stream prefix shadow-text recipedia-text"></i>
                        <select name="category" id="category" required>
                            <option value="" disabled selected>Choose a Category</option>
                            {% for category in categories %}
                                <option value="{{ category.category_name.capitalize() }}">{{ category.category_name.capitalize() }}</option>
                            {% endfor %}
                        </select>
                        <label for="category">Category</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s6">
                        <i class="fas fa-exclamation prefix shadow-text recipedia-text"></i>
                        <input id="difficulty" name="difficulty" type="text" class="validate" required>
                        <label for="difficulty">Difficulty</label>
                    </div>
                    <div class="input-field col s6">
                        <i class="fas fa-calculator prefix shadow-text recipedia-text"></i>
                        <input id="servings" name="servings" type="number" class="validate" required>
                        <label for="servings">Servings</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s6">
                        <i class="fas fa-clock prefix shadow-text recipedia-text"></i>
                        <input id="cook_time" name="cook_time" type="number" class="validate" required>
                        <label for="cook_time">Cooking time (mins)</label>
                    </div>
                    <div class="input-field col s6">
                        <i class="far fa-clock prefix shadow-text recipedia-text"></i>
                        <input id="prep_time" name="prep_time" type="number" class="validate" required>
                        <label for="prep_time">Preparation Time (mins)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fas fa-images prefix shadow-text recipedia-text"></i>
                        <label for="img_upload">Upload Image</label>
                        <!-- got help with uploading images here: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#attr-accept -->
                        <input id="img_upload" name="img_upload" type="file" class="validate" accept="image/png, image/jpeg">
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 center-align">
                        <button class="btn-large waves-effect waves-light" type="submit" name="action">Add Recipe
                        <i class="fas fa-paper-plane"></i>
                    </button>
                    </div>
                </div>
            </form>
        </div>
    </section>

{% endblock %}