## Testing Recipedia

### Responsive Testing

Testing of the site was required for my milestone 3 project.

To test for responsiveness of my website. I used Chrome Dev Tools to test the site at the various screen resolutions.

My site was found to be mobile responsive on each screen resolution and is mobile responsive down to a screen resolution of 270px.

Below is a list of all of the screens that my site was tested on.

* Galaxy Fold
    * ![Galaxy Fold Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/Galaxy%20fold%20response.JPG)

* iPhone5/SE
    * ![iphone5 Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/iphone%205%20response.JPG)

* Galaxy S5
    * ![Galaxy s5 Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/galaxy%20s5.JPG)

* Moto G4
    * ![Moto G4 Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/Moto%20G4.JPG)

* iPhone 6/7/8
    * ![iphone6/7/8 Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/iphone%206%2C7%2C8%20response.JPG)

* Surface Duo
    * ![Surface Duo Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/surface%20duo%20response.JPG)

* iPhone 6/7/8 Plus
    * ![iPhone 6/7/8 Plus Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/iphone%206%2C7%2C8%20plus%20response.JPG)

* iPhone X/Xs
    * ![iPhone X/Xs Plus Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/iphone%20x%20response.JPG)

* iPad Pro
    * ![iPad pro Plus Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/ipad%20pro%20response.JPG)

* Pixel 2 XL
    * ![pixel 2 xl Response](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/pixel%202%20xl.JPG)

* 720p + 1080p screens

I also had family members and friends test out the site on their various devices/gadgets and it was responsive and acting as it should on each device used.

### Javascript Testing

The Javascript used in the site has to pass validation with [jshint.com](https://jshint.com/). Below are images displaying the javascript files used in the project passing the javascript validation test.

* add_recipe.js

![Add_recipe.js Test ](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/add-recipe%20compliance.JPG)

* script.js

![Script.js Test ](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/script%20js%20compliance.JPG)

### CSS Testing

The CSS used in the site has to pass validation with [w3c.com](https://jigsaw.w3.org/css-validator/). Below is an image displaying the CSS file used in the project passing the CSS validation test.

* CSS test

![CSS Test](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/css%20compliance.JPG)

### Python Testing

The Python used in the site has to pass validation with [pep8 online](http://pep8online.com/). Below displays the python file used in the project passing the pep8 validation test.

* Pep8 test

![Pep8 Test](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/Pep8%20Compliance.JPG)

### HTMLTesting

The HTML used in the site has to pass validation with [w3c online](https://validator.w3.org/#validate_by_input). Below displays the HTML files used in the project passing the HTML validation test.

* Homepage

![Homepage](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/homepage-html-validation.JPG)

* Login page

![Login](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/login%20html%20check.JPG)

* Register page

![Register](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/register%20html%20check.JPG)

* Recipedia Utensils page

![products](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/products-page-html-validation.JPG)

* add a product page

![add a product](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/add-product-html-valid.JPG)

* Edit Product page

![edit products](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/edit-product-html-valid.JPG)

* Full Product page

![full product](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/full-product-valid-html.JPG)

* Add a recipe page

![add recipe](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/add-recipe-html-validation.JPG)

* edit recipe page

![edit recipe](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/edit-recipes-html-valid.JPG)

* Full Recipe page

![full recipe](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/full-recipe-html-valid.JPG)

* categories page

![categories](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/recipe-categories-html-valid.JPG)

* edit categories page

![edit categories](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/recipe-categories-html-valid.JPG)

* profile page

![profile](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/add-recipe-html-validation.JPG)

* error pages

![error](https://github.com/Brianconn71/ms3-recipedia/blob/master/static/imgs/readme_imgs/error-pages-html-valid.JPG)


## User story Testing

### User Story 1

* I want to find recipes quickly and easily

#### Action

* Navigate to the website homepage either via the browser or by clicking on the logo or the home nav menu link

#### Expectation

* The recipes page to display a paginated list in groups of 6 of the recipes in the database

#### Result

* The page loads as it should regardless of through the browser it was searched or if the user clicked the logo or the home link in the nav bar or sidenav.

![user story 1 result]()

### User Story 2

* I want to be able to filter the recipes based on the type of recipe I want e.g Breakfast, Lunch and Dinner

#### Action

* The user can search the site for any recipe based on the recipe name and can also click on any of the filter buttons to search the site based on the type of recipe they are looking for.

#### Expectation

* The page will return the corredt recipes that the user has searched for. The user will be informed on the amount of results there search has returned if the search was successful, if there were no recipes based on the users search then a message will prompt saying there are no recipes in the database based on the search and the search bar will turn red and won't allow a search if a user does not enter at least three characters into the search bar.


#### Result

* The search will return the result to the user with a message saying how many recipes are in the search if the search was successful and if not it will tell the user there are no searches based on the text entered in the search bar. If the user clicks enter without a search phrase then a prompt will ask them to please enter some characters into the search. When the filter button is clicked recipes of the relevant type will be displayed in paginated format.

Search results

![]()

No Search results

![]()

Filter Search results

![]()

No text in searchbar results

![]()

### User Story 3

* I want to be able to easily login to the site.

#### Action

* User clicks on the login nav link in the top menu or side nav or on the click here link on the register page and are brought to the login page.

#### Expectation

* The user will be met with the login screen. The user will enter there details into the form and submit the form. a blank field will prompt the user to enter information into that particular input field.

#### Result

If a credential is wrong then a flash message will tell them username/password is wrong and ask them to enter there details again. If the details are correct a user will be logged into session and arrive at their profile page. if a user tries to login without entering credentials then a prompt will ask them to please fill in details

successful login

![]()

unsuccessful

![]()

blank field

![]()

### User Story 4

* I want to be able to easily Register an account on the site.

#### Action

* User clicks on the resiter nav link in the top menu or side nav or on the click here link on the loginr page and are brought to the register page.

#### Expectation

* A user will enter their data into the form and create an account on the site. a flash message will display if they use a username that already exists and they will be prompted with a please fill in message if they try to submit a form without all required information.

#### Result

* If a user enters all correct information a message will display under the input field telling them that there username is unique and that their password passes the requirements. On successful registration the user will be redirected to their profile page. If the user enters data that is incorrect or unsuccessful they will be met with a flash message.

successful register

![]()

unique helper text if data enters meets requirements

![]()

unique helper text if data entered doesn't meet requirements

![]()

unsuccessful register

![]()

blank field register

![]()

### User Story 5

* I want to be able to add my own recipes to the site.

#### Action

* The user can click on the link in the top nav to add a recipe or if they are new to the site and have not yet added a recipe to the site previously then they can click on the link in there profile under the your recipes heading to be brought to the add recipe page.

#### Expectation

*  That a users recipe will be added to the database and searchable from the search bar and from the use of the filter buttons on the homepage. If a user fails to enter required data a prompt will be displayed to the user. users can add ingredients and steps to the recipe by clicking on the green add buttons and remove them by clicking on the red remove buttons. 

#### Result

* Once the user has filled out everything required the recipe gets added to the database and is searchable on the site. If a user fails to enter data into an input field then they will be prompted to do so. User can add and remove ingredients and steps on the form.

successful add recipe

![]()

Missing data

![]()

add steps and ingredients

![]()

remove steps and ingredients

![]()

### User Story 6

* I want to be to search the site based on a specific keyword in the recipe title.

#### Action

* the user can click onto the search bar input firld on the home recipes page and enter a specific key wrod and search for that keyword in the recipe names of the recipes in the recipes database.

#### Expectation

* That the keyword will be searched throughout the recipe names in the recipes database. It should return recipe names where even one word matches the recipe name. A search will not be permitted and users will get a prompt to enter a search term. A flash message will appear at the top of the page informing the user of the results of their search and the amount of results returned.

#### Result

* The user will see a flash message at the top of the screen informing them of the amount of results in their search, the results will be displayed below the search container in paginated format. A prompt will display to the user if they search with a blank search bar and if a users search has no results the flash message at the top of the page will inform them of such.

successful search

![]()

unsuccessful search

![]()

empty search prompt
![]()

### User Story 7

* I want to be able to edit and delete my own recipes.

#### Action

* A user should see delete and edit buttons underneath each recipe card that they have created and not underneath recipes they did not create. The delete and edit buttons should also display under recipes they have created in their profile and full recipe page. A user should be able to edit a recipe by clicking the edit button and taken to the edit recipe page where changes will be reflected in the recipe in the database and on the site. When a user clicks to delete a recipe a delete confirmation modal should appear asking the user if they wish to confirm the deletion, if they choose confirm the recipe will then be deleted from the site and database and a flash confirmation message will appear to the user to confirm deletion.

#### Expectation

* A user should only see edit and delete buttons on their own created recipes. when a user selects edit, it should take them to the edit recipe page to make changes and when the user selects delete a delete confirmation modal should be present to ask if they wish to confirm the deletion.


#### Result

* The user will be able to edit and make changes to their own recipes and delete their own recipes from the database but not edit or delete recipes for other users.

delete and edit buttons
![]()

edit recipe button taking to edit recipe page
![]()

edit recipe confirmation
![]()

delete recipe confirmation
![]()

delete recipe modal
![]()

### User Story 8

* I want to be able to view other members recipes easily.

#### Action

* The user can see all recipes on the homepage and by searching and filtering the database.

#### Expectation

* that the user can find and view any recipes they wish

#### Result

* The user can find all recipes on the home page and view full recipes by clicking on the see full recipe button on the recipe cards.

See full recipe
![]()

full recipe page
![]()

### User Story 9

* I want to be able to save other recipes for easy access and viewing in my profile.

#### Action

* When a logged in user finds a recipe they like and want to save for easy viewing that they click on the save button on the recipe card and that recipe then gets displayed in their profile.

#### Expectation

* The user clicks on the save button, a flash message will then appear to the user saying a recipe has been saved to their profile. The recipe will then be displayed in their profile.

#### Result

* The user clicks on the save button which saves the recipe to their profile and a message appears informing the user the recipe was saved to their profile. The recipe is then displayed on their profile.

save button
[]()

Flash message
[]()

recipe saved to the users profile
[]()

### User Story 10

* I want to be able to delete saved recipes that I no longer have a use for from my profile.

#### Action

* When a logged in user wants to delete a saved recipe from their profile they can click on the remove saved recipe button displayed on the recipe card in the users profile page.

#### Expectation

* The user clicks on the remove saved recipe button, and the recipe will be removed from their profile with a flash message confirming the deletion.

#### Result

* the user clicks on the remove saved recipe button on the recipe card and the recipe is removed from their saved recipes field in the database, the python backend code will remove the recipe id from the array, a flash message then appears to confirm the recipe is no longer saved.

delete save button
[]()

delete save Flash message
[]()

recipe removed from saved recipes
[]()

### User Story 11

* I want to be able to view recommended kitchen products and purchase the products.

#### Action

* By clicking on the recipedia Utensils link in the top nav and side nav bars, the user will be prought to the products page where the products are displayed.

#### Expectation

* When the user lands on the recipedia utensils page they will be able to view all products in paginated format with six products listed per page. They can also filter the products based on the type of product that they wish to search for. The users can also follow the link on the products cards to buy the products from the recommended sellers. The cards will also show the product rating out of five which will provide peace of mind when purchasing.

#### Result

* The user can find products based on the filter buttons and a flash message will display how many results their are per search. The results are in paginated format with six results per page. Users can esily purchase these products by clicking on the link at the bottom of the card.

products page with filter
[]()

products Flash message
[]()

buy now link
[]()

product rating
[]()

### User Story 12

* I want to be able to easily view every recipe I have added to the site and make changes without having to look through every recipe on the site.

#### Action

* by clicking on the profile link in the top and side nav the user will be transported to their own profile page where they can easily view the recipes they have added to the site and see the delete and edit buttons to make changes to their recipes.

#### Expectation

* The user clicks on the profile link and they get to their profile where they can make edit and delete changes to their recipes.

#### Result

* The user will be able to edit and make changes to their own recipes and delete their own recipes from the database but not edit or delete recipes for other users, they will be able to find all their own recipes on their profile page

profile page
[]()

### User Story 1

* I want to find recipes quickly and easily

#### Action


#### Expectation


#### Result

## Issues and Bugs

### resolved Issues

* Some materialize form and input elements were not reacting to changes that I was making regardless of how well I targeted them, I used materialize documentation and google chrome tools to target these elements and I had to use the !important selector in some cases to overrule Materialize.

* I spent a huge amount of time trying to get the save buttons working and the logic behind them, I read lots of mongo documentation to find out the $push method which I then used to add a new field to the users db if a user saves a recipe, I got plenty of help from slack users Karen and Daisy to help with this part. Once I got that bit working I kept running into hey errors for users who were registered with the site but had not saved any recipes and thus had no saved_recipes field in there users record. The way that I managed to get around this was to use Try and except to only get the saved_recipes field from a user if they have a saved recipe in their araay in the users db and if they don't then don't show the saved recipes section of the profile page to the users. If the users selects to save a recipe then add that recipe id to an array in the uders db and if a user chooses to remove a saved recipe then the python code will remove the saved recipe id from the users db array.

* I struggled initially with pagination as it was something we were not taught but I got a lot of help from slack to understand it and eventually found a simple pagination example project on github that hugely helped me and I eventually got it to work with six items displayed on a page

* Delete confirmation modals in a for loop - caused me untold grief and pain. I got a lot of help from slack and in particular slack user Igor who helped me to understand data attributes and I eventually got the delete confirmation modal to work. 


### Bugs

Unfortunately, I ran out of time and know how to fix some bugs that remain.

* I could not get the chrome autofill color for the form inputs to match the color of the form, I tried every color and opacity that possibly could have worked but it just wouldn't look the same as the rest of the form background color, it made the text hard to see.

* I initially, had planned to use "input type="file"" as a way for users to upload images to their recipes, unfortunately I could not get this to work as for some reason the images didnt seem to get stored in the correct firld in the mongo database. This meant that I had to use "type=url" but unfrotunately I couldn't get the pattern for the input to accept .jpg and .png in the url I tried multiple patterns but I couldn't seem to get it to work the way I wanted so there is an issue that a user could enter any url into the add or edit recipe forms even urls not belonging to images and so cause that recipe to not display properly on the recipes page and with no image too. 

* When a user edits a recipe and adds a new recipe or step it gets labelled as step/ingredient 2 even if there are more than two ingredients or steps in the recipe. This is not ideal for users but in the backend it works perfectly and gets added into the bottom of the array and shown and numbered correctly on the site its just that label numbers may cause concern to a user.

* I had to manually enter the ids for the filter recipe buttons, I tried to use jinja templating to get the category name from the category database but unfortunately It would not work correctly so I had to manually add the ids to the get recipes html page.


